# 사용자 흐름 (User Flow)

## 애플리케이션 개요
주식/기업 분석 대시보드로, 검색 기반 데이터 조회, 차트 분석, 소스 문서 열람, 산업분석, 피드, 차트랩 등 다양한 투자 분석 기능을 제공합니다.

---

## 화면 구성

```
┌─────────────────────────────────────────────────────────────────┐
│                        [검색창]                                  │
├──────┬──────────────────────────────────┬───────────────────────┤
│아이콘│         중앙 패널                 │      우측 패널        │
│사이드│  ┌────────────────────────────┐  │                       │
│바    │  │      주가 차트             │  │   • 회사 개요         │
│      │  │   (거시지표, 전망치)        │  │   • 원문 보기         │
│ 📊   │  └────────────────────────────┘  │   • 요약문 보기       │
│ 📰   │  ┌────────────────────────────┐  │   • 탭별 상세정보     │
│ 🏭   │  │    데이터 테이블           │  │                       │
│ 📅   │  │   (소스별 자료 목록)        │  │                       │
│ 🧪   │  └────────────────────────────┘  │                       │
└──────┴──────────────────────────────────┴───────────────────────┘
```

### 아이콘 사이드바 메뉴
| 아이콘 | 기능 | 설명 |
|--------|------|------|
| 📊 | **스냅샷** | 기업 분석 대시보드 (기본 화면) |
| 📰 | **피드** | 뉴스, 공시, 리포트 등 정보 피드 |
| 🏭 | **산업분석** | NSIC 기반 산업 비교 분석 (준비중) |
| 📅 | **캘린더** | 일정 및 이벤트 관리 |
| 🧪 | **차트랩** | 커스텀 차트 생성 도구 |

---

## 메인 사용자 흐름

### 1. 검색 및 데이터 로드
```
[검색창] → [데이터 로드] → [화면 구성]
```

| 단계 | 동작 | 결과 |
|------|------|------|
| 1-1 | 상단 검색창에 **주제** 또는 **회사명** 입력 | 검색 실행 |
| 1-2 | 소스 기반 관련 자료 조회 | **중앙 패널 테이블**에 데이터 표시 |
| 1-3 | 해당 기업 주가 데이터 로드 | **중앙 패널 차트**에 주가 차트 표시 |
| 1-4 | 기업 정보 로드 | **우측 패널**에 회사 개요 표시 |

---

### 2. 차트 분석 (차트 사이드바)
```
[차트 사이드바] → [지표 추가/전망 토글]
```

| 기능 | 설명 |
|------|------|
| **거시지표 추가** | 차트 사이드바에서 거시지표(금리, 환율 등)를 선택하여 주가 차트와 함께 비교 분석 |
| **전망 토글 ON** | 전망 토글을 활성화하면 차트에 **전망치(예측선)**가 표시됨 |

---

### 3. 소스 문서 열람
```
[테이블 소스 클릭] → [우측 패널에서 상세 보기]
```

| 단계 | 동작 | 결과 |
|------|------|------|
| 3-1 | 테이블에서 원하는 **소스 항목** 클릭 | 해당 소스 선택 |
| 3-2 | 차트의 **현재 시간대**에 맞는 소스 필터링 | 관련 소스만 표시 |
| 3-3 | 우측 패널에서 **원문** 확인 | 소스 원본 내용 열람 |
| 3-4 | 우측 패널에서 **요약문** 확인 | AI 요약 내용 열람 |

---

## 스냅샷 (Snapshot)

주가 데이터와 다양한 지표를 차트로 시각화하고 분석할 수 있습니다. 차트 사이드바를 통해 차트 유형, 시리즈, 스타일을 설정합니다.

### 차트 사이드바

차트 좌측의 사이드바에서 차트 설정을 조정할 수 있습니다.

| 탭 | 기능 |
|------|------|
| **데이터** | 차트 유형, X축 설정, 시리즈 관리, 전망 토글 |
| **스타일** | 라인 스타일(선 두께, 마커), 축 설정(Y축 위치) |

### 차트 유형 선택

데이터 탭의 차트 유형 드롭다운에서 원하는 차트 형식을 선택합니다.

| 유형 | 설명 |
|------|------|
| **Line chart** | 데이터 포인트를 선으로 연결하여 추세 파악에 적합 |
| **Bar chart** | 막대형 차트로 값의 크기를 직관적으로 비교 |
| **Area chart** | 선 아래 영역을 채워 누적 효과나 규모를 강조 |

### 시리즈 관리

기본 주가 시리즈 외에 다양한 지표를 추가하여 비교 분석할 수 있습니다.

| 기능 | 설명 |
|------|------|
| **주가** | 기본 시리즈로 항상 표시 |
| **+ 추가 버튼** | 추가 가능한 지표 목록 표시 (기준금리, 환율 등) |
| **시리즈 클릭** | 해당 시리즈 표시/숨김 토글 |
| **× 버튼** | 추가한 시리즈 제거 |

### 전망 토글

데이터 탭 하단의 전망 영역에서 매출액 전망 데이터를 표시하거나 숨길 수 있습니다. 토글을 켜면 차트에 예측 데이터가 점선으로 표시됩니다.

### 스타일 설정

스타일 탭에서 차트의 시각적 요소를 조정할 수 있습니다.

| 항목 | 옵션 |
|------|------|
| **선 두께** | 1px, 2px, 3px, 4px |
| **마커 표시** | 표시 / 숨김 |
| **Y축 위치** | 왼쪽 / 오른쪽 |

---

## 피드 (Feed)

실시간 정보 스트림을 제공하는 화면입니다.

### 피드 유형

| 유형 | 설명 |
|------|------|
| **전체** | 모든 유형의 피드 통합 표시 |
| **뉴스** | 관련 뉴스 기사 |
| **공시** | 기업 공시 정보 |
| **리포트** | 증권사 리서치 리포트 |
| **SNS** | 소셜 미디어 멘션 |

### 필터 기능
- 기간별 필터링 (1일, 1주, 1개월 등)
- 소스별 필터링
- 키워드 검색

---

## 산업분석 (Industry Analysis)

> **현재 상태: 준비중**

NSIC(New Standard Industry Classification) 기반의 산업 비교 분석 기능입니다.

### NSIC란?
기존 한국표준산업분류(KSIC)를 현대 산업 환경에 맞게 재정의한 새로운 분류 체계입니다.
- 디지털 경제 및 플랫폼 비즈니스 반영
- 융복합 산업의 세분화
- 신성장 산업 분류 추가
- KSIC 코드와의 매핑 지원

### 예정 기능

| 기능 | 설명 |
|------|------|
| **산업간 비교** | 여러 산업의 시장 규모, 성장률, 수익성 비교 |
| **산업내 경쟁사 분석** | 동일 산업 내 기업들의 비교 분석 |
| **NSIC 분류체계 탐색** | Miller Columns 방식의 대분류→중분류→소분류 탐색 |
| **지표 프리셋** | 시장 규모, 수익성, 성장성, 밸류에이션 등 프리셋 제공 |

---

## 차트랩 (ChartLab)

커스텀 차트를 생성하고 분석할 수 있는 실험적 도구입니다.

### 주요 기능

| 기능 | 설명 |
|------|------|
| **데이터 소스 연결** | 다양한 데이터 소스 선택 및 연결 |
| **차트 유형 선택** | 라인, 바, 에어리어, 스캐터 등 다양한 차트 유형 |
| **축 설정** | X축, Y축 필드 및 스케일 설정 |
| **시리즈 관리** | 다중 시리즈 추가 및 스타일 커스터마이징 |
| **필터링** | 데이터 필터 조건 설정 |

### 차트 생성 흐름
```
[데이터 소스 선택] → [차트 유형 선택] → [축 설정] → [시리즈 추가] → [미리보기]
```

### 지원 차트 유형
- **Line**: 시계열 데이터 추세 분석
- **Bar**: 카테고리별 비교
- **Area**: 누적 데이터 시각화
- **Scatter**: 상관관계 분석
- **Pie/Donut**: 구성비 분석

---

## 캘린더 (Calendar)

투자 관련 일정 및 이벤트를 관리하는 화면입니다.

### 이벤트 유형

| 유형 | 색상 | 설명 |
|------|------|------|
| **실적발표** | 🔴 | 기업 분기/연간 실적 발표 |
| **배당** | 🟤 | 배당금 지급일, 배당락일 |
| **컨퍼런스** | 🟣 | IR 컨퍼런스, 기업설명회 |
| **보고서** | 🟡 | 산업 리포트, 분석 보고서 발행 |
| **뉴스** | 🟢 | 주요 뉴스 이벤트 |

### 필터 기능
- 회사명 검색
- 이벤트 유형별 필터
- 월별/주별 보기 전환

---

## 주요 기능 요약

| 영역 | 기능 |
|------|------|
| **검색창** | 주제/회사 검색으로 전체 데이터 로드 |
| **스냅샷** | 기업 분석 대시보드, 차트, 소스 테이블 |
| **피드** | 실시간 뉴스, 공시, 리포트 스트림 |
| **산업분석** | NSIC 기반 산업 비교 (준비중) |
| **캘린더** | 투자 일정 및 이벤트 관리 |
| **차트랩** | 커스텀 차트 생성 도구 |
| **우측 패널** | 회사 개요, 선택한 소스의 원문/요약문 표시 |

---

## 업데이트 이력

| 날짜 | 내용 |
|------|------|
| 2026-02-01 | 산업분석 UI 재설계 (준비중 상태로 전환) |
| 2026-02-01 | 스냅샷 차트 사이드바 기능 추가 |
| 2026-02-01 | USER_FLOW.md 문서 업데이트 |
